<%@page import="com.bean.User"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	request.setCharacterEncoding("utf-8");

	// 1. 앞에서 넘어온 폼값을 받아서 처리
	String id = request.getParameter("id");
	String pw = request.getParameter("pw");
	String pw_check = request.getParameter("pw_check");
	
	// 2. pw와 pw_check가 같다면
	if (pw.equals(pw_check)) {
	   User user = new User();
	   user.setId(id);
	   user.setPw(pw);
	   
	   request.setAttribute("user", user);
	   
	   RequestDispatcher dp = request.getRequestDispatcher("quiz03.jsp");
	   dp.forward(request, response);
	   /*
	   <jsp:useBean id="user" class="com.bean.User" scope="request"/>
	   <jsp:setProperty property"*" name="user"/>
	   <jsp:forward page="quiz01.jsp"/>
	   */
	}else{
		response.sendRedirect("quiz04.jsp");
	}
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>quiz02.jsp</title>
</head>
<body>
<%
    // 오류 메시지 출력
    String error = request.getParameter("error");
    if (error != null && error.equals("fail")) {
        out.println("회원가입에 실패했습니다.");
    }
%>
</body>
</html>
